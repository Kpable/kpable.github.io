<!DOCTYPE html>
<html lang="en">

    <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=2020aeeb79f82d158dc144418d1d1aa15ae4dabe">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Menus | Kpable</title>
<meta property="og:title" content="Menus" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Design Challenge Create menus allowing creation and deletion of game save data, game setting modification, and game mode selection. Development Considerations Need to establish a bidirectional link between UI elements, saved data, and current game data. Changes in game data should both be saved and applied, as well as reflected in the UI when the change occurs." />
<meta property="og:description" content="Design Challenge Create menus allowing creation and deletion of game save data, game setting modification, and game mode selection. Development Considerations Need to establish a bidirectional link between UI elements, saved data, and current game data. Changes in game data should both be saved and applied, as well as reflected in the UI when the change occurs." />
<link rel="canonical" href="http://localhost:4000/artificial-infiltration/menus" />
<meta property="og:url" content="http://localhost:4000/artificial-infiltration/menus" />
<meta property="og:site_name" content="Kpable" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-03-28T00:00:00-04:00" />
<script type="application/ld+json">
{"name":null,"description":"Design Challenge Create menus allowing creation and deletion of game save data, game setting modification, and game mode selection. Development Considerations Need to establish a bidirectional link between UI elements, saved data, and current game data. Changes in game data should both be saved and applied, as well as reflected in the UI when the change occurs.","author":null,"@type":"BlogPosting","url":"http://localhost:4000/artificial-infiltration/menus","publisher":null,"image":null,"headline":"Menus","dateModified":"2017-03-28T00:00:00-04:00","datePublished":"2017-03-28T00:00:00-04:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/artificial-infiltration/menus"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header style="padding-bottom: 0px">
  <h1>Kpable</h1>
  <h2>Portfolio of a Gameplay Programmer</h2>
  <!-- <h3>Menus</h3> -->
</header>

<nav class="navbar navbar-expand-md">
  <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarsExample10" aria-controls="navbarsExample10" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="navbar-collapse justify-content-md-center collapse" id="navbarsExample10" style="">
    <ul class="navbar-nav">
      <div class="nav-item active">
        <a class="nav-link" href="http://localhost:4000">Home <span class="sr-only">(current)</span></a>
      </div>
      <div class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="dropdown10" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects</a>
        <div class="dropdown-menu" aria-labelledby="dropdown10">
          
            
              <a class="dropdown-item" href="/artificial-infiltration/">Artificial Infiltration (Assertive Games)</a>
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        </div>
      </div>
    </ul>
  </div>
</nav> 

        <hr>

        <section id="main_content">
          <article>

<h1 class="post-title" itemprop="name headline">Menus</h1>

  <div class="post-content" itemprop="articleBody">
    <h4 id="design-challenge">Design Challenge</h4>

<p>Create menus allowing creation and deletion of game save data, game setting modification, and game mode selection.</p>

<h4 id="development-considerations">Development Considerations</h4>

<p>Need to establish a bidirectional link between UI elements, saved data, and current game data. Changes in game data should both be saved and applied, as well as reflected in the UI when the change occurs.</p>

<p><img src="http://localhost:4000/assets/menus.gif" alt="Menus" /></p>

<!--excerpt_end-->

<h4 id="then-and-now-thoughts">Then and Now Thoughts</h4>

<p>“I need to identify the menu structure to properly set up the navigation. Some of these menu items will need to work with the game’s save data. I can use that data to dynamically create some menu items. I also have to be able to delete and create data when the player wants a new game.” 
<strong><em>- Past Me</em></strong></p>

<p>“You did well with the data control throughout the menus and the dynamic menus left room for future expansion. However, you didn’t quite make the navigation easy to change when the design changed to exclude or add a menu in the structure. Reconnecting elements in the menu navigation feels like it could be an easier process. We’ll figure it out some day.”
<strong><em>- Present Me</em></strong></p>

<h4 id="tldr">TL;DR</h4>
<ul>
  <li>Set up basic menu navigation where each button would either change scene or open a sub menu.</li>
  <li>Used object oriented design to abstract out common menu animation and functionality.</li>
  <li>Dynamically created UI elements where possible to allow for future expansion</li>
</ul>

<hr />

<h4 id="menu-navigation">Menu Navigation</h4>

<p>I set up the menu system to navigate through as simply as I could think of it at the time. When the player clicks a button to dive deeper into the menus, show the next menu on top of the current menu. When navigating back out through the menus, hide the current menu.</p>

<p>It was a simple plan of showing and hiding menus stacked on top of one another. However, a design requirement for menu transitions which made things a bit less simple.</p>

<h4 id="menu-transitions">Menu Transitions</h4>

<p>Each menu was designed to have a background image along with the menu content. Both of which would fade in when the menu was opened with the background image fading in prior to the menu content.</p>

<p>I set up a couple of animations using Unity’s animator to fade in and out a UI element and play the animations as part of the “show menu” process:</p>

<ul>
  <li>Show Background
    <ul>
      <li>Fade in background</li>
      <li>Wait until fade complete</li>
    </ul>
  </li>
  <li>Show Content
    <ul>
      <li>Fade in content</li>
      <li>Wait until fade complete</li>
    </ul>
  </li>
</ul>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/MenuController.cs">MenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">void</span> <span class="nf">ShowBackgroundImage</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">StartCoroutine</span><span class="p">(</span><span class="s">"EnableMenuItem"</span><span class="p">,</span> <span class="n">backgroundImage</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">ShowMenuPanel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">StartCoroutine</span><span class="p">(</span><span class="s">"EnableMenuItem"</span><span class="p">,</span> <span class="n">menuPanel</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="n">IEnumerator</span> <span class="nf">EnableMenuItem</span><span class="p">(</span><span class="n">GameObject</span> <span class="n">menuItem</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(!</span><span class="n">menuActive</span><span class="p">)</span> <span class="n">menuActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="k">yield</span> <span class="k">return</span> <span class="k">new</span> <span class="nf">WaitForSecondsRealtime</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
    <span class="n">menuItem</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
    <span class="n">menuItem</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;().</span><span class="n">speed</span> <span class="p">=</span> <span class="n">fadeSpeed</span><span class="p">;</span>
    <span class="n">menuItem</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;().</span><span class="nf">Play</span><span class="p">(</span><span class="s">"FadeIn"</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span></code></pre></figure>

<p>The process reversed for navigating back up the menu tree:</p>

<ul>
  <li>Hide Content
    <ul>
      <li>Fade out content</li>
      <li>Wait until fade complete</li>
    </ul>
  </li>
  <li>Hide Background
    <ul>
      <li>Fade out background</li>
      <li>Wait until fade complete</li>
    </ul>
  </li>
</ul>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/MenuController.cs">MenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">void</span> <span class="nf">HideMenuPanel</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">StartCoroutine</span><span class="p">(</span><span class="s">"DisableMenuItem"</span><span class="p">,</span> <span class="n">menuPanel</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">HideBackgroundImage</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">StartCoroutine</span><span class="p">(</span><span class="s">"DisableMenuItem"</span><span class="p">,</span> <span class="n">backgroundImage</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="n">IEnumerator</span> <span class="nf">DisableMenuItem</span><span class="p">(</span><span class="n">GameObject</span> <span class="n">menuItem</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">menuItem</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;().</span><span class="n">speed</span> <span class="p">=</span> <span class="n">fadeSpeed</span><span class="p">;</span>
    <span class="n">menuItem</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Animator</span><span class="p">&gt;().</span><span class="nf">Play</span><span class="p">(</span><span class="s">"FadeOut"</span><span class="p">);</span>

    <span class="c1">// Wait for the fade to actually finish before 
</span>
    <span class="c1">// disabling the object.
</span>
    <span class="k">yield</span> <span class="k">return</span> <span class="k">new</span> <span class="nf">WaitForSecondsRealtime</span><span class="p">(</span><span class="n">fadeDuration</span><span class="p">);</span> 

    <span class="n">menuItem</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">menuItem</span> <span class="p">==</span> <span class="n">backgroundImage</span><span class="p">)</span> <span class="n">menuActive</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">...</span></code></pre></figure>

<p>When the player clicks on a menu button, that button will navigate to the new menu using this method.</p>

<h4 id="main-menu">Main Menu</h4>

<p><img src="http://localhost:4000/assets/main-menu.png" alt="Main Menu" /></p>

<p>Most of the menu items on this menu primarily behave as previously mentioned with regard to navigation.</p>

<p>The Load Game button however must transition from the menu to the game and parse the player’s saved data to load the next available mission.</p>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/MainMenuController.">MainMenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">void</span> <span class="nf">LoadGame</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">nextMission</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Missions</span><span class="p">.</span><span class="n">Total</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">gameManager</span><span class="p">.</span><span class="n">playerSaveGame</span><span class="p">.</span><span class="n">missionData</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">].</span><span class="n">completed</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// If this is the first mission and it is 
</span>
            <span class="c1">// not yet completed
</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span> <span class="n">nextMission</span> <span class="p">=</span> <span class="n">i</span><span class="p">;</span>
            <span class="c1">// If mission not completed and this is 
</span>
            <span class="c1">// not the first mission. 
</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">&gt;</span> <span class="m">1</span><span class="p">)</span>
                <span class="c1">// If this mission is unlocked and the 
</span>
                <span class="c1">// previous mission is completed
</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">gameManager</span><span class="p">.</span><span class="n">playerSaveGame</span><span class="p">.</span>
                        <span class="n">missionData</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">].</span><span class="n">unlocked</span> <span class="p">&amp;&amp;</span>
                    <span class="n">gameManager</span><span class="p">.</span><span class="n">playerSaveGame</span>
                        <span class="p">.</span><span class="n">missionData</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">2</span><span class="p">].</span><span class="n">completed</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">nextMission</span> <span class="p">=</span> <span class="n">i</span><span class="p">;</span>
                <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="p">...</span>
<span class="p">}</span></code></pre></figure>

<h4 id="new-game-menu">New Game Menu</h4>

<p><img src="http://localhost:4000/assets/new-game-menu.png" alt="New Game Menu" /></p>

<p>This confirmation menu verifies whether new save data should be created or not. This would delete the previous saved game and create a new one with default values.</p>

<h4 id="mission-runner-menu">Mission Runner Menu</h4>

<p><img src="http://localhost:4000/assets/mission-runner-menu.png" alt="Mission Runner Menu" /></p>

<p>When the game is started, this menu is populated with button elements for each mission available and adjusted to reflect the data that was stored regarding those missions.</p>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/MissionRunnerMenuController.cs">MissionRunnerMenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
    <span class="p">...</span>
    <span class="n">playerSavedData</span> <span class="p">=</span> <span class="n">gameManager</span><span class="p">.</span><span class="n">playerSaveGame</span><span class="p">;</span>

    <span class="c1">// Mission Runner Buttons
</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Missions</span><span class="p">.</span><span class="n">Total</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="c1">// Create a new mission runner button. 
</span>
        <span class="n">GameObject</span> <span class="n">btn</span> <span class="p">=</span> 
            <span class="nf">Instantiate</span><span class="p">(</span><span class="n">missionRunnerMissionButtonPrefab</span><span class="p">)</span> 
                <span class="k">as</span> <span class="n">GameObject</span><span class="p">;</span>
        
        <span class="c1">// Set its parent to be the panel, 
</span>
        <span class="c1">// false to disable world position and get canvas position. 
</span>
        <span class="n">btn</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="nf">SetParent</span><span class="p">(</span><span class="n">missionRunnerItemParent</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
        
        <span class="c1">// Find the Button's Text to set it to the mission name. 
</span>
        <span class="n">btn</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"Mission Button"</span><span class="p">)</span>
            <span class="p">.</span><span class="n">GetComponentInChildren</span><span class="p">&lt;</span><span class="n">Text</span><span class="p">&gt;().</span><span class="n">text</span> <span class="p">=</span>
                <span class="p">((</span><span class="n">Missions</span><span class="p">)</span><span class="n">i</span><span class="p">).</span><span class="nf">ToString</span><span class="p">().</span><span class="nf">Replace</span><span class="p">(</span><span class="s">"_"</span><span class="p">,</span> <span class="s">" "</span><span class="p">);</span>
        
        <span class="c1">// Grab the time score text and set that to this 
</span>
        <span class="c1">// mission's best time. 
</span>
        <span class="n">btn</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"Best Time"</span><span class="p">).</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Text</span><span class="p">&gt;().</span><span class="n">text</span> <span class="p">=</span>
            <span class="n">playerSavedData</span><span class="p">.</span><span class="n">missionData</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">].</span><span class="n">levelTime</span><span class="p">.</span><span class="nf">PrettyTime</span><span class="p">();</span>

        <span class="c1">// If mission is locked in campaign, 
</span>
        <span class="c1">// lock it in Mission Runner mode. 
</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">playerSavedData</span><span class="p">.</span><span class="n">missionData</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">].</span><span class="n">unlocked</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">btn</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"Mission Button"</span><span class="p">)</span>
                <span class="p">.</span><span class="n">GetComponentInChildren</span><span class="p">&lt;</span><span class="n">Button</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="n">interactable</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h4 id="options-menu">Options Menu</h4>

<p><img src="http://localhost:4000/assets/options-menu.png" alt="Option Menu" /></p>

<p>Each of the elements in the options menu had to be capable of changing the current game settings to provide the player with a preview of the selected changes. Additionally, should the player choose to save the selected settings the changed values should be captured and saved so they may remain persistent each time the game loaded up. Alternatively, should the player change their mind and want to discard the changes, the previously saved settings should be restored.</p>

<p>To accomplish this I needed to create a link between the UI element, the current game setting, and a temporary copy of the settings struct that is saved off to avoid making modifications to the existing settings in the event the player discards the changes.</p>

<p>To first reflect the current game settings, whether previously modified or defaults set on game initialization, I retrieved the saved game settings struct and set each element to the value that was read from file.</p>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/OptionsMenuController.cs">OptionsMenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">void</span> <span class="nf">LoadGameSettings</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">gameSettings</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GameSettings</span><span class="p">(</span><span class="n">gameManager</span><span class="p">.</span><span class="n">gameSettings</span><span class="p">);</span>

    <span class="c1">// Adjust all UI Elements to show the current settings. 
</span>
    <span class="p">...</span>
    <span class="n">textureQualityDropdown</span><span class="p">.</span><span class="k">value</span> <span class="p">=</span> <span class="n">gameSettings</span><span class="p">.</span><span class="n">textureQuality</span><span class="p">;</span>
    <span class="p">...</span>
<span class="p">}</span></code></pre></figure>

<p>Once the UI elements are set, I add a listener to the element for when the value changes and use that listener to set both the current game settings and the temporary game settings struct.</p>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/OptionsMenuController.cs">OptionsMenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">base</span><span class="p">.</span><span class="nf">Start</span><span class="p">();</span>
    <span class="p">...</span>
    <span class="n">textureQualityDropdown</span><span class="p">.</span><span class="n">onValueChanged</span>
        <span class="p">.</span><span class="nf">AddListener</span><span class="p">(</span><span class="k">delegate</span> <span class="p">{</span> <span class="nf">TextureQuality</span><span class="p">();</span> <span class="p">});</span>
    <span class="p">...</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">TextureQuality</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">QualitySettings</span><span class="p">.</span><span class="n">masterTextureLimit</span> <span class="p">=</span> 
        <span class="n">gameSettings</span><span class="p">.</span><span class="n">textureQuality</span> <span class="p">=</span> 
            <span class="n">textureQualityDropdown</span><span class="p">.</span><span class="k">value</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>If the player chooses to save the selected settings, I update the saved file and the existing game settings struct with the new values and exit the menu.</p>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/OptionsMenuController.cs">OptionsMenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">public</span> <span class="k">void</span> <span class="nf">Save</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Save the Settings
</span>
    <span class="n">GameData</span><span class="p">.</span><span class="nf">SaveJson</span><span class="p">(</span><span class="n">Utils</span><span class="p">.</span><span class="n">GameSettingsFilename</span><span class="p">,</span> 
                        <span class="n">JsonUtility</span><span class="p">.</span><span class="nf">ToJson</span><span class="p">(</span><span class="n">gameSettings</span><span class="p">,</span> <span class="k">true</span><span class="p">));</span>
    <span class="c1">//Update the Game Manager of the new settings. 
</span>
    <span class="n">gameManager</span><span class="p">.</span><span class="n">gameSettings</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GameSettings</span><span class="p">(</span><span class="n">gameSettings</span><span class="p">);</span>
    <span class="p">...</span>
    <span class="nf">Back</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

<p>Should the player wish to discard the changes, the temporary settings are checked against the existing settings and if any changes are detected all the settings are restored to the previously stored existing settings before the menu is closed.</p>

<p><a href="https://github.com/Kpable/Artificial-Infiltration/blob/master/Scripts/UI/OptionsMenuController.cs">OptionsMenuController.cs</a></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#"><span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Back</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// IF the settings are being discarded, 
</span>
    <span class="c1">// reset them before closing the menu. 
</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">gameSettings</span> <span class="p">!=</span> <span class="n">gameManager</span><span class="p">.</span><span class="n">gameSettings</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nf">ResetSettings</span><span class="p">();</span>
    <span class="p">}</span>
    
    <span class="k">base</span><span class="p">.</span><span class="nf">Back</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">ResetSettings</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">LoadGameSettings</span><span class="p">();</span>
    <span class="p">...</span>
    <span class="n">QualitySettings</span><span class="p">.</span><span class="n">masterTextureLimit</span> <span class="p">=</span> 
        <span class="n">gameSettings</span><span class="p">.</span><span class="n">textureQuality</span><span class="p">;</span>
    <span class="p">...</span>
<span class="p">}</span></code></pre></figure>

<h4 id="pause-menu">Pause Menu</h4>

<p><img src="http://localhost:4000/assets/pause-menu.png" alt="Pause Menu" /></p>

<p>The pause menu is a simple menu that pauses the game allowing the player to change settings, restart or return to the main menu.</p>

<h4 id="player-customization-menu">Player Customization Menu</h4>

<p><img src="http://localhost:4000/assets/player-customization-1.png" alt="Player Customization Default" /></p>

<p><img src="http://localhost:4000/assets/player-customization-2.png" alt="Player Customization Shard" /></p>

<p>The player customization menu enables the player to choose a skin for the player avatar. The selections are previewed, saved, and discarded similarly to the way other game settings are.</p>


  </div>

</article>
        </section>

        <footer>
  This page was generated by <a href="https://pages.github.com">GitHub Pages</a> and is maintained by <a href="http://github.com/Kpable">Kpable</a>.
</footer>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>


      </div>
    </div>

    
  </body>

</html>
